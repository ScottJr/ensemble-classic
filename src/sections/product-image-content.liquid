{% comment %}

  -----------------------------------------------------------------------------
  Product Image Content Section
  -----------------------------------------------------------------------------

{% endcomment %}

{% comment %} Content {% endcomment %}
{% assign image_alt_text = section.settings.image.alt %}
{% if product.metafields.custom_fields.s_img_content_img != blank %}
  {% assign image_url = product.metafields.custom_fields.s_img_content_img %}
{% else %}
  {% assign image_url = section.settings.image
    | img_url: '800x' %}
{% endif %}
{% if image_url contains 'no-image' %}
  {% assign image_url = blank %}
{% endif %}

{% if product.metafields.custom_fields.s_img_content_img_md_up != blank %}
  {% assign image_url_md_up = product.metafields.custom_fields.s_img_content_img_md_up %}
{% else %}
  {% assign image_url_md_up = section.settings.image_md_up
    | img_url: '1000x' %}
{% endif %}
{% if image_url_md_up contains 'no-image' %}
  {% assign image_url_md_up = blank %}
{% endif %}

{% if product.metafields.custom_fields.s_img_content_eyebrow_txt != blank %}
  {% assign eyebrow_text = product.metafields.custom_fields.s_img_content_eyebrow_txt %}
{% else %}
  {% assign eyebrow_text = section.settings.eyebrow_text %}
{% endif %}

{% if product.metafields.custom_fields.s_img_content_para_txt != blank %}
  {% assign paragraph_text = product.metafields.custom_fields.s_img_content_para_txt %}
{% else%}
  {% assign paragraph_text = section.settings.paragraph_text %}
{% endif %}

{% if product.metafields.custom_fields.s_img_content_disp_txt != blank %}
  {% assign heading_text = product.metafields.custom_fields.s_img_content_disp_txt %}
{% else %}
  {% assign heading_text = section.settings.heading_text %}
{% endif %}

{% comment %} Render HTML Content? {% endcomment %}
{% if image_url != blank %}
  {% assign show_rendered_content = true %}
{% elsif image_url_md_up != blank %}
  {% assign show_rendered_content = true %}
{% elsif eyebrow_text != blank %}
  {% assign show_rendered_content = true %}
{% elsif heading_text != blank %}
  {% assign show_rendered_content = true %}
{% elsif paragraph_text != blank %}
  {% assign show_rendered_content = true %}
{% else %}
  {% assign show_rendered_content = false %}
{% endif %}

{% if show_rendered_content == true %}
  {% render 'section-image-content',
    image_url: image_url,
    image_url_md_up: image_url_md_up,
    eyebrow_text: eyebrow_text,
    heading_text: heading_text,
    paragraph_text: paragraph_text %}
{% endif %}

{% schema %}
  {
    "name": "Image & Content",
    "settings": [
      {
        "type": "header",
        "content": "Section Layout"
      },
      {
        "type": "select",
        "id": "container",
        "label": "Container",
        "info": "Define what container will the section content be confined to.",
        "options": [
          { "value": "container", "label": "Contained at all breakpoints"},
          { "value": "container-sm", "label": "95% wide with 2.5% padding until small breakpoint"},
          { "value": "container-md", "label": "95% wide with 2.5% padding until medium breakpoint"},
          { "value": "container-lg", "label": "95% wide with 2.5% padding until large breakpoint"},
          { "value": "container-xl", "label": "95% wide with 2.5% padding until xlarge breakpoint"},
          { "value": "container-fluid", "label": "95% wide with 2.5% padding at all breakpoints"},
          { "value": "", "label": "100% wide at all breakpoints"}
        ],
        "default": "container-xl"
      },
      {
        "type": "checkbox",
        "id": "vertically_padded_content",
        "label": "Define if content will be vertically flush or have padding (5rem)",
        "default": true
      },
      {
        "type": "select",
        "id": "content_order_md_up",
        "label": "Content position",
        "info": "Large devices only. On small devices, image stacks first and is followed by the content.",
        "options": [
          { "value": "order-md-last", "label": "Right"},
          { "value": "order-md-first", "label": "Left"}
        ],
        "default": "order-md-last"
      },
      {
        "type":   "range",
        "label": "Padding top - small devices",
        "id": "pt",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes smaller than 768px"
      },
      {
        "type":   "range",
        "label": "Padding bottom - small devices",
        "id": "pb",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes smaller than 768px"
      },
      {
        "type":   "range",
        "label": "Margin top - small devices",
        "id": "mt",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes smaller than 768px"
      },
      {
        "type":   "range",
        "label": "Margin bottom - small devices",
        "id": "mb",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes smaller than 768px"
      },
      {
        "type":   "range",
        "label": "Padding top - medium & up devices",
        "id": "pt_md_up",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes larger than 768px"
      },
      {
        "type":   "range",
        "label": "Padding bottom - medium & up devices",
        "id": "pb_md_up",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes larger than 768px"
      },
      {
        "type":   "range",
        "label": "Margin top - medium & up devices",
        "id": "mt_md_up",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes larger than 768px"
      },
      {
        "type":   "range",
        "label": "Margin bottom - medium & up devices",
        "id": "mb_md_up",
        "min":       0,
        "max":       5,
        "step":      1,
        "default":   0,
        "unit": "%",
        "info": "For devices with Screen sizes larger than 768px"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
      },
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background Image - Small Devices"
      },
      {
        "type": "image_picker",
        "id": "bg_image_md_up",
        "label": "Background Image - Medium & Up Devices"
      },
      {
        "type": "header",
        "content": "Content Layout"
      },
      {
        "type": "range",
        "id": "header_container_col",
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "col",
        "label": "Container Columns - Small Devices",
        "default": 12
      },
      {
        "type": "range",
        "id": "header_container_col_md_up",
        "min": 1,
        "max": 12,
        "step": 1,
        "unit": "col",
        "label": "Container Columns - Medium & Up Devices",
        "default": 8
      },
      {
        "type": "select",
        "id": "header_container_justify_container",
        "label": "Justify content container - Small devices",
        "options": [
          { "value": "justify-content-start", "label": "Left"},
          { "value": "justify-content-center", "label": "Center"},
          { "value": "justify-content-end", "label": "Right"}
        ],
        "default":   "justify-content-center",
        "info":      "Default: Center"
      },
      {
        "type": "select",
        "id": "header_container_justify_container_md_up",
        "label": "Justify content container - Medium & Large devices",
        "options": [
          { "value": "justify-content-md-start", "label": "Left"},
          { "value": "justify-content-md-center", "label": "Center"},
          { "value": "justify-content-md-end", "label": "Right"}
        ],
        "default":   "justify-content-md-center",
        "info":      "Default: Center"
      },
      {
        "type": "select",
        "id": "header_container_text_align",
        "label": "Text alignment - Small devices",
        "options": [
          { "value": "text-left", "label": "Left"},
          { "value": "text-center", "label": "Center"},
          { "value": "text-right", "label": "Right"}
        ],
        "default":   "text-center",
        "info":      "Default: Center"
      },
      {
        "type": "select",
        "id": "header_container_text_align_md_up",
        "label": "Text alignment - Medium & Large devices",
        "options": [
          { "value": "text-md-left", "label": "Left"},
          { "value": "text-md-center", "label": "Center"},
          { "value": "text-md-right", "label": "Right"}
        ],
        "default":   "text-md-center",
        "info":      "Default: Center"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image - Small devices"
      },
      {
        "type": "image_picker",
        "id": "image_md_up",
        "label": "Image - Medium & Up devices"
      },
      {
        "type": "select",
        "id": "image_aspect_ratio",
        "label": "Image aspect ratio",
        "options": [
          { "value": "21by9", "label": "21x9"},
          { "value": "1by1", "label": "1x1"},
          { "value": "4by3", "label": "4x3"},
          { "value": "16by9", "label": "16x9"}
        ],
        "default": "1by1"
      },
      {
        "type": "text",
        "id": "eyebrow_text",
        "label": "Eyebrow"
      },
      {
        "type": "select",
        "id": "eyebrow_style",
        "label": "Eyebrow style",
        "options": [
          { "value": "badge-primary", "label": "Primary"},
          { "value": "badge-secondary", "label": "Secondary"},
          { "value": "badge-success", "label": "Success"},
          { "value": "badge-danger", "label": "Danger"},
          { "value": "badge-warning", "label": "Warning"},
          { "value": "badge-info", "label": "Info"},
          { "value": "badge-light", "label": "Light"},
          { "value": "badge-dark", "label": "Dark"}
        ],
        "default": "badge-dark"
      },
      {
        "type": "text",
        "id": "heading_text",
        "label": "Heading Text"
      },
      {
        "type": "select",
        "id": "heading_style",
        "label": "Heading Text Style",
        "options": [
          { "value": "display-1", "label": "Display 1"},
          { "value": "display-2", "label": "Display 2"},
          { "value": "display-3", "label": "Display 3"},
          { "value": "display-4", "label": "Display 4"},
          { "value": "h1", "label": "H1"},
          { "value": "h2", "label": "H2"},
          { "value": "h3", "label": "H3"},
          { "value": "h4", "label": "H4"},
          { "value": "h5", "label": "H5"},
          { "value": "h6", "label": "H6"}
        ],
        "default": "display-4",
        "info": "Default: Display 4"
      },
      {
        "type": "select",
        "id": "content_color",
        "label": "Content color",
        "options": [
          { "value": "text-primary", "label": "Primary"},
          { "value": "text-secondary", "label": "Secondary"},
          { "value": "text-success", "label": "Success"},
          { "value": "text-danger", "label": "Danger"},
          { "value": "text-warning", "label": "Warning"},
          { "value": "text-info", "label": "Info"},
          { "value": "text-light", "label": "Light"},
          { "value": "text-dark", "label": "Dark"},
          { "value": "text-body", "label": "Body"},
          { "value": "text-muted", "label": "Muted"},
          { "value": "text-white", "label": "White"},
          { "value": "text-black-50", "label": "Black 50"},
          { "value": "text-white-50", "label": "White 50"}
        ],
        "default": "text-body"
      },
      {
        "type": "richtext",
        "id": "paragraph_text",
        "label": "Paragraph"
      },
      {
        "type": "text",
        "id": "link_text",
        "label": "Link Text"
      },
      {
        "type": "url",
        "id": "link_url",
        "label": "Link Destination"
      },
      {
        "type": "select",
        "id": "link_style",
        "label": "Link Style",
        "options": [
          { "value": "btn-primary", "label": "Primary"},
          { "value": "btn-secondary", "label": "Secondary"},
          { "value": "btn-success", "label": "Success"},
          { "value": "btn-danger", "label": "Danger"},
          { "value": "btn-warning", "label": "Warning"},
          { "value": "btn-info", "label": "Info"},
          { "value": "btn-light", "label": "Light"},
          { "value": "btn-dark", "label": "Dark"},
          { "value": "btn-link", "label": "Link"},
          { "value": "btn-outline-primary", "label": "Primary - Outline"},
          { "value": "btn-outline-secondary", "label": "Secondary - Outline"},
          { "value": "btn-outline-success", "label": "Success - Outline"},
          { "value": "btn-outline-danger", "label": "Danger - Outline"},
          { "value": "btn-outline-warning", "label": "Warning - Outline"},
          { "value": "btn-outline-info", "label": "Info - Outline"},
          { "value": "btn-outline-light", "label": "Light - Outline"},
          { "value": "btn-outline-dark", "label": "Dark - Outline"}
        ],
        "default": "btn-outline-dark"
      }
    ]
  }
{% endschema %}