{% comment %} Global Section Settings {% endcomment %}
{% assign background_color = section.settings.background_color %}
{% assign bg_image_url = section.settings.bg_image | img_url: '1000x' %}
{% if bg_image_url contains 'no-image' %}
  {% assign bg_image_url = blank %}
{% endif %}
{% assign bg_image_url_large = section.settings.bg_image_large | img_url: '1000x' %}
{% if bg_image_url_large contains 'no-image' %}
  {% assign bg_image_url_large = blank %} 
{% endif %}

{% comment %} Header Settings {% endcomment %}
{% assign header_container_col = section.settings.header_container_col %}
{% assign header_container_col_large = section.settings.header_container_col_large  %}
{% assign header_container_justify_container = section.settings.header_container_justify_container %}
{% assign header_container_justify_container_large = section.settings.header_container_justify_container_large %}
{% assign header_container_text_alignment = section.settings.header_container_text_alignment %}
{% assign header_container_text_alignment_large = section.settings.header_container_text_alignment_large %}

{% comment %} Content Container Settings {% endcomment %}
{% assign badge_style = section.settings.badge_style %}

{% assign display_style = section.settings.display_style %}

{% assign content_color = section.settings.content_color %}


{% comment %} Video Container Settings {% endcomment %}
{% assign video_url = section.settings.video_url %}
{% assign video_aspect_ratio = section.settings.video_aspect_ratio %}
{% assign video_container_col = section.settings.header_container_col %}
{% assign video_container_col_large = section.settings.video_container_col_large  %}
{% assign video_container_justify_container = section.settings.video_container_justify_container %}
{% assign video_container_justify_container_large = section.settings.video_container_justify_container_large %}
{% assign video_container_text_alignment = section.settings.video_container_text_alignment %}
{% assign video_container_text_alignment_large = section.settings.video_container_text_alignment_large %}

{% comment %} Content Container Classes {% endcomment %}
{% assign content_classes = 'col-12' %} 
{% assign content_classes = content_classes | append: ' ' | append: 'py-4 py-sm-0 mb-4' %}

{% comment %} Section Layout Settings {% endcomment %}
{% assign padding_top = section.settings.padding_top %}
{% assign padding_bottom = section.settings.padding_bottom %}
{% assign padding_top_md_up = section.settings.padding_top_md_up %}
{% assign padding_bottom_md_up = section.settings.padding_bottom_md_up %}
{% assign margin_top = section.settings.margin_top %}
{% assign margin_bottom = section.settings.margin_bottom %}
{% assign margin_top_md_up = section.settings.margin_top_md_up %}
{% assign margin_bottom_md_up = section.settings.margin_bottom_md_up %}

{% comment %} Section Layout Classes {% endcomment %}
{% assign section_classes =  'position-relative' %}
{% assign section_classes = section_classes | append: ' ' | append: background_color %}
{% assign section_classes = section_classes | append: ' pt-' | append: padding_top %}
{% assign section_classes = section_classes | append: ' pb-' | append: padding_bottom %}
{% assign section_classes = section_classes | append: ' pt-md-' | append: padding_top_md_up %}
{% assign section_classes = section_classes | append: ' pb-md-' | append: padding_bottom_md_up %}
{% assign section_classes = section_classes | append: ' mt-' | append: margin_top %}
{% assign section_classes = section_classes | append: ' mb-' | append: margin_bottom %}
{% assign section_classes = section_classes | append: ' mt-md-' | append: margin_top_md_up %}
{% assign section_classes = section_classes | append: ' mb-md-' | append: margin_bottom_md_up %}

{% comment %} Container Settings {% endcomment %}
{% assign container = section.settings.container %}

{% comment %} Container Classes {% endcomment %}
{% assign vertically_padded_content = section.settings.vertically_padded_content %}
{% assign container_classes = container %}
{% if vertically_padded_content %}
  {% assign container_classes = container_classes | append: ' py-5'%}
{% endif %}

{% comment %} Row Classes {% endcomment %}
{% assign row_classes = 'row'%}

{% comment %}  {% endcomment %}
{% assign meta_content_classes = 'col-12 col-md-10 offset-md-1 mb-3' %}

<section class="{{ section_classes }}" data-section-id="{{ section.id }}">
  {% comment %} Background Image {% endcomment %}
  {% if bg_image_url != blank %}
    <style>
      [data-section-id="{{ section.id }}"] { background-image: url({{ bg_image_url }}); background-size: cover; }
    </style>
  {% elsif bg_image_url_large != blank %}  
    {% elsif bg_image_url_large != blank %}  
  {% elsif bg_image_url_large != blank %}  
    {% elsif bg_image_url_large != blank %}  
  {% elsif bg_image_url_large != blank %}  
    <style>
      [data-section-id="{{ section.id }}"] { background-image: url({{ bg_image_url_large }}); background-size: cover; }
    </style>
  {% endif %}

  {% if bg_image_url_large != blank %}
    <style>
      @media (min-width: 992px) {
        [data-section-id="{{ section.id }}"] { background-image: url({{ bg_image_url_large }}); background-size: cover; }
      }
    </style>
  {% elsif bg_image_url != blank %}  
    {% elsif bg_image_url != blank %}  
  {% elsif bg_image_url != blank %}  
    {% elsif bg_image_url != blank %}  
  {% elsif bg_image_url != blank %}  
    <style>
      @media (min-width: 992px) {
        [data-section-id="{{ section.id }}"] { background-image: url({{ bg_image_url }}); background-size: cover; }
      }
    </style>
  {% endif %}    
    {% endif %}    
  {% endif %}    
    {% endif %}    
  {% endif %}    

  <div class="{{ container_classes }}">
    <div class="{{ row_classes }}">
      <div class="{{ content_classes }}">
        {% render 'content-object' 
                  eyebrow_text: eyebrow_text, 
                  badge_style: badge_style,
                  content_color: content_color,
                  display_text: display_text,
                  display_style: display_style,
                  paragraph_text: paragraph_text,
                  col: header_container_col,
                  col_large: header_container_col_large,
                  justify_container: header_container_justify_container,
                  justify_container_large: header_container_justify_container_large,
                  text_alignment: header_container_text_alignment,
                  text_alignment_large: header_container_text_alignment_large
        %}
      </div>
    </div>
    <div class="{{ row_classes }}">
      <div class="{{ meta_content_classes }}">
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ meta_title_primary }}</h5>
                <p class="card-text">{{ meta_content_primary }}</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ meta_title_secondary }}</h5>
                <p class="card-text">{{ meta_content_secondary }}</p>
              </div>
            </div>
          </div>            
                </div>
          </div>            
            </div>            
              </div>
            </div>            
          </div>            
            </div>            
          </div>            
          <div class="col-12 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ meta_title_tertiary }}</h5>
                <p class="card-text">{{ meta_content_tertiary }}</p>
              </div>
            </div>
          </div>                        
            </div>                        
          </div>                        
                </div>
          </div>                        
        </div>
      </div>
            </div>                        
      </div>
    </div>      
          </div>
    </div>      
      </div>      
        </div>
      </div>      
    </div>      
      </div>      
    </div>      
  </div>
</section>
